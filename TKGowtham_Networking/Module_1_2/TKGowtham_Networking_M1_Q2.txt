FTP : File transfer protocol to share files between devices
SFTP : FTP with SSH protocol to securely share files between devices

-------------- FTP -------------

Following these steps to create a FTP Server on my Linux Mint machine
 
1. sudo apt install vsftpd

2. sudo systemctl enable vsftpd

3. sudo nano /etc/vsftpd.conf

4. chroot_local_user=YES, write_enable=YES, user_sub_token=$USER,
   local_root=/home/$USER/ftp, pasv_min_port=10000, pasv_max_port=10100,
   userlist_enable=YES, userlist_file=/etc/vsftpd.userlist, userlist_deny=NO,
   force_local_data_ssl=YES, force_local_logins_ssl=YES

   rsa_cert_file=/etc/ssl/private/vsftpd.pem
   rsa_private_key_file=/etc/ssl/private/vsftpd.pem
   ssl_enable=YES

5. sudo ufw allow from any to any port 20, 21, 10000:10100 proto tcp

6. sudo adduser phil

7. sudo mkdir /home/phil/ftp

8. sudo chown nobody:nogroup /home/phil/ftp

9. sudo chmod a-w /home/phil/ftp

10. sudo mkdir /home/phil/ftp/upload

11. sudo chown phil:phil /home/phil/ftp/upload

12. echo "My FTP Server Tkgowtham" | sudo tee /home/phil/ftp/upload/demo.txt

13. echo "phil" | sudo tee -a /etc/vsftpd.userlist

14. sudo systemctl restart vsftpd

In Kali Linux (Device 2) :

1. Open a terminal, and type ftp <ip-addr>

2. Type lcd to change directory

3. Use get for downloading a file or mget to download multiple files

4. Use put for uploading a file or mput to upload multiple files

 -------------------------------------------------------------------------

 Create SFTP Server on Linux Mint

1. sudo apt install ssh

2. sudo systemctl start ssh

3. sudo addgroup sftp

4. sudo adduser sftp_tkgowtham

5. sudo usermod -a -G stfp stfp_tkgowtham

6. Verify using : grep  sftp /etc/group

7.sudo mkdir -p /var/sftp/Files

8. sudo chown root:root /var/sftp

9. sudo chmod 755 /var/sftp

10. sudo chown stfp_tkgowtham:sftp_tkgowtham /var/sftp/Files

11. sudo nano /etc/ssh/sshd_config

12. Add following script to the config file:

Match User sftp_tkgowtham
ChrootDirectory /var/sftp
X11Forwarding no
AllowTcpForwarding no
ForceCommand internal-sftp

13. sudo systemctl restart ssh

On Kali Linux (Client Side) :
-----------------------------

1. sftp sftp_tkgowtham@<ip-addr>

2. Use get and put command as similarly to ftp